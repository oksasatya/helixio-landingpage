---
import { getLocale, t, tArray } from '../i18n/utils';
import FAQItem from './FAQItem.tsx';
import WaveDivider from './decorations/WaveDivider.astro';

const locale = getLocale(Astro.url.pathname);
const faqItems = tArray('faq.items', locale);
---

<section id="faq" class="relative overflow-hidden">
  <!-- Wave divider at top -->
  <WaveDivider position="top" color="var(--color-background)" />
  <!-- Topo pattern -->
  <div class="absolute inset-0 pointer-events-none pattern-topo" aria-hidden="true"></div>
  <!-- Subtle background tint -->
  <div class="absolute inset-0 bg-gradient-to-b from-[var(--color-card)]/30 to-transparent pointer-events-none" aria-hidden="true"></div>

  <div class="section-container relative z-10">
    <h2 class="section-title text-[var(--color-foreground)] reveal">
      {t('faq.title', locale)}
    </h2>
    <p class="section-subtitle reveal">
      {t('faq.subtitle', locale)}
    </p>

    <div class="max-w-3xl mx-auto reveal">
      {faqItems.map((item) => (
        <FAQItem question={item.q} answer={item.a} client:visible />
      ))}
    </div>
  </div>
</section>
