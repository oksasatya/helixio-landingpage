---
interface Props {
  icon: string;
  title: string;
  description: string;
  size?: 'lg' | 'md' | 'full';
  accent?: string;
  highlights?: string[];
}

const { icon, title, description, size = 'md', accent = '#FD8406', highlights = [] } = Astro.props;

const sizeClasses = {
  lg: 'md:col-span-1',
  md: 'md:col-span-1',
  full: 'md:col-span-3',
};
---

<div class={`group relative rounded-2xl overflow-hidden transition-all duration-300 hover:translate-y-[-4px] ${sizeClasses[size]} reveal`}>
  <!-- Gradient border -->
  <div class="absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500" style={`background: linear-gradient(135deg, ${accent}40, transparent 50%, ${accent}20);`}></div>
  <div class="absolute inset-0 rounded-2xl bg-border group-hover:opacity-0 transition-opacity duration-500"></div>

  <!-- Inner card -->
  <div class={`relative m-[1px] rounded-[15px] bg-card overflow-hidden ${size === 'lg' ? 'p-7 md:p-8' : size === 'full' ? 'p-6 md:p-8' : 'p-6'}`}>
    <!-- Inner glow on hover -->
    <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none" style={`background: radial-gradient(ellipse at 30% 0%, ${accent}08 0%, transparent 70%);`} aria-hidden="true"></div>

    <!-- Decorative corner element -->
    <svg class="absolute top-0 right-0 w-24 h-24 opacity-[0.04] group-hover:opacity-[0.08] transition-opacity pointer-events-none" viewBox="0 0 100 100" fill="none" aria-hidden="true">
      <circle cx="80" cy="20" r="40" stroke={accent} stroke-width="0.5" />
      <circle cx="80" cy="20" r="20" stroke={accent} stroke-width="0.3" />
    </svg>

    <div class={`relative z-10 ${size === 'full' ? 'flex flex-col md:flex-row md:items-center md:gap-8' : ''}`}>
      <div class={size === 'full' ? 'flex-1' : ''}>
        <!-- Icon -->
        <div class="w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-transform duration-300 group-hover:scale-110" style={`background: linear-gradient(135deg, ${accent}15, ${accent}05);`}>
          <i class={`${icon} text-xl`} style={`color: ${accent};`}></i>
        </div>

        <!-- Title -->
        <h3 class={`font-bold text-foreground mb-2 ${size === 'lg' ? 'text-xl md:text-2xl' : 'text-lg'}`}>
          {title}
        </h3>

        <!-- Description -->
        <p class={`text-muted leading-relaxed ${size === 'lg' ? 'text-sm md:text-base' : 'text-sm'}`}>
          {description}
        </p>
      </div>

      <!-- Highlights for large/full cards -->
      {highlights.length > 0 && (
        <div class={`mt-4 ${size === 'full' ? 'md:mt-0 md:flex-1' : ''}`}>
          <div class={`grid ${size === 'full' ? 'grid-cols-2 gap-2' : 'grid-cols-2 gap-2'}`}>
            {highlights.map((h) => (
              <div class="flex items-center gap-2 text-xs text-muted py-1.5 px-2.5 rounded-lg bg-white/[0.03]">
                <span class="w-1 h-1 rounded-full shrink-0" style={`background: ${accent};`}></span>
                {h}
              </div>
            ))}
          </div>
        </div>
      )}
    </div>

    <!-- Bottom accent line -->
    <div class="absolute bottom-0 left-0 right-0 h-[2px] opacity-0 group-hover:opacity-100 transition-opacity duration-500" style={`background: linear-gradient(90deg, transparent, ${accent}, transparent);`}></div>
  </div>
</div>
